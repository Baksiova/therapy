<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serene - Váš sprievodca pokojom</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #0B132B;
            --surface1: #1C2541;
            --surface2: #3A506B;
            --primary: #5BC0BE;
            --text-light: #F0F4F8;
            --text-medium: #8D99AE;
            --font-family: 'Inter', sans-serif;
            --shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            --radius-lg: 24px;
            --radius-md: 16px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }

        body {
            font-family: var(--font-family);
            background-color: #030712;
            color: var(--text-light);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        
        #background-video {
            position: fixed;
            right: 0; bottom: 0;
            min-width: 100%; min-height: 100%;
            width: auto; height: auto;
            z-index: -1;
            opacity: 0.1;
            object-fit: cover;
            transition: opacity 1s ease;
        }

        .app-container {
            width: 100%;
            max-width: 420px;
            height: 95vh;
            max-height: 850px;
            background: rgba(11, 19, 43, 0.8);
            backdrop-filter: blur(30px) saturate(180%);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .app-header {
            padding: 20px; text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            flex-shrink: 0;
        }
        .app-header h1 { font-size: 20px; font-weight: 600; }

        .app-main-content { flex: 1; position: relative; overflow: hidden; }
        .view {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            display: flex; flex-direction: column;
            opacity: 0; visibility: hidden;
            transition: opacity 0.4s ease, transform 0.4s ease;
            transform: translateX(20px);
        }
        .view.active { opacity: 1; visibility: visible; transform: translateX(0); }

        /* Chat View */
        #chatView { z-index: 5; }
        .chat-messages { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 18px; }
        .message-bubble { max-width: 80%; padding: 12px 18px; border-radius: var(--radius-md); line-height: 1.6; animation: fadeIn 0.5s ease-out; }
        .message-bubble.user { background: var(--primary); color: var(--bg-dark); align-self: flex-end; border-bottom-right-radius: 4px; }
        .message-bubble.bot { background: var(--surface1); color: var(--text-light); align-self: flex-start; border-bottom-left-radius: 4px; }
        .chat-input-area { padding: 15px; background: var(--surface1); border-top: 1px solid var(--surface2); }
        .chat-input-form { display: flex; align-items: center; gap: 10px; }
        .chat-input {
            flex: 1; background: var(--bg-dark); border: 1px solid var(--surface2); border-radius: 30px;
            padding: 12px 20px; color: var(--text-light); font-size: 16px;
            outline: none; transition: all 0.3s ease;
        }
        .chat-input:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(91, 192, 190, 0.2); }
        .send-btn {
            background: var(--primary); border: none; width: 48px; height: 48px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center; cursor: pointer; transition: transform 0.2s ease;
        }
        .send-btn:hover { transform: scale(1.1); }
        .send-btn svg { fill: var(--bg-dark); }

        /* Tools View */
        #toolsView { padding: 20px; overflow-y: auto; gap: 20px; display: grid; grid-template-columns: 1fr 1fr; }
        .tool-card {
            background: var(--surface1); border-radius: var(--radius-md); padding: 20px;
            text-align: center; cursor: pointer; transition: transform 0.3s ease, background 0.3s ease;
            border: 1px solid var(--surface2);
        }
        .tool-card:hover { transform: translateY(-5px); background: var(--surface2); }
        .tool-card-icon {
            width: 50px; height: 50px; background: var(--surface2); border-radius: 12px;
            display: inline-flex; align-items: center; justify-content: center; margin-bottom: 15px;
        }
        .tool-card-icon svg { fill: var(--primary); width: 28px; height: 28px; }
        .tool-card h3 { font-size: 14px; font-weight: 600; margin-bottom: 5px; }
        .tool-card p { font-size: 12px; color: var(--text-medium); line-height: 1.4; }

        /* Navigácia */
        .app-nav { display: flex; background: var(--surface1); padding: 10px 0; border-top: 1px solid var(--surface2); }
        .nav-btn {
            flex: 1; background: none; border: none; color: var(--text-medium);
            display: flex; flex-direction: column; align-items: center; gap: 4px;
            cursor: pointer; transition: color 0.3s ease; font-family: var(--font-family);
        }
        .nav-btn.active, .nav-btn:hover { color: var(--text-light); }
        .nav-btn svg { width: 24px; height: 24px; fill: currentColor; }
        .nav-btn span { font-size: 11px; font-weight: 500; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 450px) {
            .app-container { height: 100vh; max-height: 100vh; border-radius: 0; border: none; }
        }
    </style>
</head>
<body>
    
    <video autoplay muted loop id="background-video">
        <!-- Použite nejaké pekné, pomalé video, napr. z pexels.com -->
        <source src="https://videos.pexels.com/video-files/4784435/4784435-hd.mp4" type="video/mp4">
    </video>

    <div class="app-container">
        <header class="app-header">
            <h1 id="headerTitle">Serene</h1>
        </header>

        <main class="app-main-content">
            
            <div id="chatView" class="view active">
                <div class="chat-messages" id="chatMessages">
                    <div class="message-bubble bot">Dobrý deň. Som Serene, váš sprievodca pokojom. Som tu, aby som vás vypočul.</div>
                </div>
                <div class="chat-input-area">
                    <form class="chat-input-form" onsubmit="event.preventDefault(); sendMessage();">
                        <input type="text" id="messageInput" class="chat-input" placeholder="Napíšte správu..." autocomplete="off">
                        <button type="submit" class="send-btn">
                            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
                        </button>
                    </form>
                </div>
            </div>

            <div id="toolsView" class="view">
                <div class="tool-card">
                    <div class="tool-card-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.2,19H12.8C13.9,19 14.8,18.1 14.8,17V15H9.2V17C9.2,18.1 10.1,19 11.2,19H11.8V19.5C11.8,19.8 12,20 12.3,20S12.8,19.8 12.8,19.5V19M19.7,9.8C19.4,9.5 19,9.3 18.5,9.3H15.3V6.8C15.3,6.3 14.8,5.9 14.3,5.9S13.3,6.3 13.3,6.8V9.3H10.8V4.8C10.8,4.3 10.3,3.9 9.8,3.9S8.8,4.3 8.8,4.8V9.3H5.5C5,9.3 4.6,9.5 4.3,9.8C4,10.1 3.9,10.6 4.1,11L8.1,14.3H15.9L19.9,11C20.1,10.6 20,10.1 19.7,9.8Z"/></svg></div>
                    <h3>Dychové cvičenia</h3>
                    <p>Techniky na rýchle upokojenie a zníženie stresu.</p>
                </div>
                <div class="tool-card">
                    <div class="tool-card-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M19,19H5V5H19V19M17,17H7V15H17V17M17,13H7V11H17V13M17,9H7V7H17V9Z"/></svg></div>
                    <h3>Denník</h3>
                    <p>Zapisujte si myšlienky a pocity pre lepšie sebapoznanie.</p>
                </div>
                <div class="tool-card">
                    <div class="tool-card-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,16A2,2 0 0,0 14,14A2,2 0 0,0 12,12A2,2 0 0,0 10,14A2,2 0 0,0 12,16M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A9,9 0 0,0 21,12A9,9 0 0,0 12,3M12,19.5A7.5,7.5 0 0,1 4.5,12A7.5,7.5 0 0,1 12,4.5A7.5,7.5 0 0,1 19.5,12A7.5,7.5 0 0,1 12,19.5Z"/></svg></div>
                    <h3>Sledovanie nálady</h3>
                    <p>Pravidelne zaznamenávajte svoju náladu a sledujte trendy.</p>
                </div>
                <div class="tool-card">
                    <div class="tool-card-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12,9L9.5,12H14.5L12,9M12,15L14.5,12H9.5L12,15Z"/></svg></div>
                    <h3>Vizualizácie</h3>
                    <p>Riadené cvičenia na relaxáciu a budovanie pozitívnych predstáv.</p>
                </div>
            </div>

            <!-- TODO: Add Journal and Dashboard Views here -->

        </main>

        <nav class="app-nav">
            <button class="nav-btn active" data-view="chatView" data-title="Serene">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,2H4A2,2 0 0,0 2,4V22L6,18H20A2,2 0 0,0 22,16V4A2,2 0 0,0 20,2M20,16H5.2L4,17.2V4H20V16M6,9H18V11H6V9M6,12H15V14H6V12M6,6H18V8H6V6Z"/></svg>
                <span>Chat</span>
            </button>
            <button class="nav-btn" data-view="toolsView" data-title="Knižnica nástrojov">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16,20H20V16H16M16,14H20V10H16M14,20H10V16H14M14,14H10V10H14M8,20H4V16H8M8,14H4V10H8V14Z"/></svg>
                <span>Nástroje</span>
            </button>
            <!-- TODO: Add Journal and Dashboard Nav Buttons here -->
        </nav>
    </div>

    <script>
    // Simplified JS for demonstration - ready to be moved to separate files
    const navButtons = document.querySelectorAll('.nav-btn');
    const views = document.querySelectorAll('.view');
    const headerTitle = document.getElementById('headerTitle');
    const messageInput = document.getElementById('messageInput');
    const chatMessages = document.getElementById('chatMessages');

    // Navigation logic
    navButtons.forEach(button => {
        button.addEventListener('click', () => {
            navButtons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');

            const viewId = button.dataset.view;
            const title = button.dataset.title;

            views.forEach(view => {
                if (view.id === viewId) {
                    view.classList.add('active');
                } else {
                    view.classList.remove('active');
                }
            });
            headerTitle.textContent = title;
        });
    });

    function addMessage(content, type) {
        const bubble = document.createElement('div');
        bubble.classList.add('message-bubble', type);
        bubble.textContent = content;
        chatMessages.appendChild(bubble);
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    async function sendMessage() {
        const messageText = messageInput.value.trim();
        if (messageText === '') return;

        addMessage(messageText, 'user');
        messageInput.value = '';
        
        // TODO: Add API call here
        // For now, a simulated response
        setTimeout(() => {
            addMessage("Toto je simulovaná odpoveď. Prepojte ma s backendom.", 'bot');
        }, 1000);
    }
    </script>
</body>
</html>
